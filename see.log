[2026-02-02 16:20:16] local.INFO: [ConversationService] processMessage called {"conversation_id":43,"message_length":48,"has_images":false,"timestamp":"2026-02-02T16:20:16+00:00"}
[2026-02-02 16:20:16] local.INFO: [ConversationService] Dispatching ProcessConversationTurn job {"conversation_id":43,"timestamp":"2026-02-02T16:20:16+00:00"}
[2026-02-02 16:20:16] local.INFO: [ConversationService] Job dispatched, broadcasting processing status {"conversation_id":43,"timestamp":"2026-02-02T16:20:16+00:00"}
[2026-02-02 16:20:16] local.INFO: [ConversationService] processMessage completed {"conversation_id":43,"timestamp":"2026-02-02T16:20:16+00:00"}
[2026-02-02 16:20:16] local.INFO: [SSE] Stream endpoint called {"conversation_id":43,"status":"active","timestamp":"2026-02-02T16:20:16+00:00"}
[2026-02-02 16:20:16] local.INFO: [SSE] Stream callback started {"conversation_id":43}
[2026-02-02 16:20:16] local.INFO: [SSE] Sent connected event, refreshing conversation state {"conversation_id":43}
[2026-02-02 16:20:16] local.INFO: [SSE] Conversation state after refresh {"conversation_id":43,"status":"active","waiting_for":"none","has_pending_tool":false}
[2026-02-02 16:20:16] local.INFO: [SSE] Disconnecting DB before Redis subscribe {"conversation_id":43,"channel":"conversation:43:events"}
[2026-02-02 16:20:16] local.INFO: [SSE] DB disconnected, entering Redis subscribe {"conversation_id":43,"channel":"conversation:43:events","timestamp":"2026-02-02T16:20:16+00:00"}
[2026-02-02 16:20:16] local.INFO: [SSE] Redis pubsub connection established, starting subscribe {"conversation_id":43,"channel":"conversation:43:events"}
[2026-02-02 16:20:20] local.INFO: [JOB] ProcessConversationTurn STARTED {"conversation_id":43,"timestamp":"2026-02-02T16:20:20.311474Z"}
[2026-02-02 16:20:20] local.INFO: [JOB] Calling AI backend {"conversation_id":43}
[2026-02-02 16:20:22] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":146,"timestamp":"2026-02-02T16:20:22+00:00"}
[2026-02-02 16:20:22] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:22] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":149,"timestamp":"2026-02-02T16:20:22+00:00"}
[2026-02-02 16:20:22] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:22] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":147,"timestamp":"2026-02-02T16:20:22+00:00"}
[2026-02-02 16:20:22] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:22] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":149,"timestamp":"2026-02-02T16:20:22+00:00"}
[2026-02-02 16:20:22] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":157,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":148,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":149,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":145,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":147,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":149,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":147,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:23] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":149,"timestamp":"2026-02-02T16:20:23+00:00"}
[2026-02-02 16:20:23] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:24] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":149,"timestamp":"2026-02-02T16:20:24+00:00"}
[2026-02-02 16:20:24] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:24] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":145,"timestamp":"2026-02-02T16:20:24+00:00"}
[2026-02-02 16:20:24] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:24] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":150,"timestamp":"2026-02-02T16:20:24+00:00"}
[2026-02-02 16:20:24] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:24] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":151,"timestamp":"2026-02-02T16:20:24+00:00"}
[2026-02-02 16:20:24] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:24] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":148,"timestamp":"2026-02-02T16:20:24+00:00"}
[2026-02-02 16:20:24] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:24] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":147,"timestamp":"2026-02-02T16:20:24+00:00"}
[2026-02-02 16:20:24] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:24] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":145,"timestamp":"2026-02-02T16:20:24+00:00"}
[2026-02-02 16:20:24] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"text_chunk"}
[2026-02-02 16:20:28] local.INFO: [JOB] AI backend finished {"conversation_id":43}
[2026-02-02 16:20:28] local.INFO: [JOB] Processing tool calls {"conversation_id":43,"tool_count":1,"tools":["glob"]}
[2026-02-02 16:20:28] local.INFO: [JOB] Broadcasting tool_request event {"conversation_id":43,"tool":"glob","timestamp":"2026-02-02T16:20:28.074052Z"}
[2026-02-02 16:20:28] local.INFO: [JOB] tool_request event broadcasted, returning from job {"conversation_id":43,"timestamp":"2026-02-02T16:20:28.074972Z"}
[2026-02-02 16:20:28] local.INFO: [SSE] Received message from Redis {"conversation_id":43,"channel":"laravel-database-conversation:43:events","message_length":337,"timestamp":"2026-02-02T16:20:28+00:00"}
[2026-02-02 16:20:28] local.INFO: [JOB] ProcessConversationTurn ENDING (entering finally) {"conversation_id":43,"elapsed_ms":7764.0,"timestamp":"2026-02-02T16:20:28.075272Z"}
[2026-02-02 16:20:28] local.INFO: [JOB] Backend disconnected {"conversation_id":43}
[2026-02-02 16:20:28] local.INFO: [SSE] Sending event to client {"conversation_id":43,"event":"tool_request"}
[2026-02-02 16:20:28] local.INFO: [JOB] Broadcaster disconnected {"conversation_id":43}
[2026-02-02 16:20:28] local.INFO: [SSE] Terminal event received, stopping subscription {"conversation_id":43,"event":"tool_request","timestamp":"2026-02-02T16:20:28+00:00"}
[2026-02-02 16:20:28] local.INFO: [JOB] ProcessConversationTurn FINISHED {"conversation_id":43,"timestamp":"2026-02-02T16:20:28.076631Z"}
